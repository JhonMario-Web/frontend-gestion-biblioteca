<form [formGroup]="form" (ngSubmit)="submit()" class="space-y-6">
    <div class="grid gap-4 md:grid-cols-2">
        <mat-form-field appearance="outline" class="md:col-span-2">
            <mat-label>Nombre completo</mat-label>
            <input matInput formControlName="fullName" placeholder="Ej. Laura Fernández">
            <mat-error *ngIf="form.controls.fullName.hasError('required')">El nombre es obligatorio</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" class="md:col-span-2">
            <mat-label>Correo electrónico</mat-label>
            <input matInput type="email" formControlName="email" placeholder="correo@biblioteca.com">
            <mat-error *ngIf="form.controls.email.hasError('required')">El correo es obligatorio</mat-error>
            <mat-error *ngIf="form.controls.email.hasError('email')">Correo inválido</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
            <mat-label>Contraseña</mat-label>
            <input matInput type="password" formControlName="password" placeholder="Mínimo 6 caracteres">
            <mat-error *ngIf="form.controls.password.hasError('required')">Ingresa una contraseña</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
            <mat-label>Rol</mat-label>
            <mat-select formControlName="role">
                <mat-option *ngFor="let role of roles" [value]="role">{{ role | lowercase }}</mat-option>
            </mat-select>
        </mat-form-field>
    </div>

    <button mat-flat-button color="primary" class="w-full py-2 font-semibold" type="submit" [disabled]="isLoading">
        <mat-icon *ngIf="!isLoading">how_to_reg</mat-icon>
        <mat-icon *ngIf="isLoading" class="animate-spin">autorenew</mat-icon>
        <span>{{ isLoading ? 'Creando cuenta...' : 'Crear cuenta' }}</span>
    </button>

    <p class="text-center text-sm text-slate-500">
        Al registrarte aceptas los términos de préstamo y uso responsable del catálogo.
    </p>
</form>